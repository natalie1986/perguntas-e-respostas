<%- include ('partials/header.ejs')%>
<body>
    <%- include ('partials/navbar.ejs') %>
    <div class="container">
        <hr>
        <h1><%= pergunta.titulo %></h1>
        <p><%= pergunta.descricao %></p>
        <hr>
        <form method="POST" action="/responder">
            <h3>Responda</h3>
            <label>Resposta:</label>
            <textarea placeholder="Digite sua resposta" class="form-control" name="corpo"></textarea>
            <!--comando para relacionar a resposta que será registrada ao id da pergunta-->
            <input type="hidden" name="pergunta" value="<%= pergunta.id %>">
            <br>
            <button type="submit" class="btn btn-primary">Responder</button>
        </form>
        <hr>
        <h3>Respostas</h3>
        <hr>
        <!--condição percorrendo o array que recebeu as variáveis de perguntas banco de dados sendo listadas para exibição na view --> 
        <% respostas.forEach(resposta => {%>
            <br>
            <div class="card">
                <div class="card-body">
                    <p><%= resposta.corpo %></p>            
                </div>
            </div>
        <% }) %>
    </div>
</body>
<%- include ('partials/footer.ejs')%>